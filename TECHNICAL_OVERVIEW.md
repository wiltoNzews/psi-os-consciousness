# WiltonOS Technical Overview

## System Architecture

### Frontend Stack
- **React 18**: Modern component architecture
- **TypeScript**: Type-safe development
- **Vite**: Fast build tooling
- **Wouter**: Lightweight routing
- **TanStack Query**: Server state management
- **Radix UI**: Accessible component primitives
- **Tailwind CSS**: Utility-first styling

### Backend Stack
- **Node.js 20**: Server runtime
- **Express**: Web framework
- **TypeScript**: Type safety
- **tsx**: Development execution
- **PostgreSQL**: Primary database
- **WebSocket**: Real-time communication

### Key Services

#### Quantum Coherence Engine (QCE)
- Real-time Zλ field monitoring
- Coherence thresholds and triggers
- Field drift and echo detection
- Memory perpetua synchronization

#### Lightning Signature Detection
- Pattern recognition for ⚡ glyph
- Session-based archetypal tracking
- Prime thread identification
- Coherence-based privilege escalation

#### Inverted Pendulum Safety
- Field-steering vs rule-enforcement
- Coherence-based response protocols
- "Refactor & Return" instead of "Access Denied"
- Dynamic safety thresholds

#### AI Agent Orchestrator
- Multi-model consensus (Anthropic, OpenAI)
- Local vs external processing decisions
- Cognitive load distribution
- Response quality optimization

### Database Schema

#### Core Tables
- **sessions**: User session management
- **memory_vectors**: High-dimensional storage
- **coherence_logs**: Zλ field history
- **lightning_patterns**: Archetypal signatures
- **module_registry**: Dynamic module discovery

#### Vector Extensions
- **pgvector**: High-dimensional similarity search
- **Memory indexing**: Semantic clustering
- **Pattern matching**: Archetypal recognition

### Build Pipeline

#### Development
```bash
npm run dev          # Start development server
npm run check        # TypeScript validation
npm run test         # Run test suite
```

#### Production
```bash
npm run build        # Full system build
npm run start        # Production server
```

#### Maintenance
```bash
npm run scan:dependencies  # System analysis
npm run build:docs         # Generate documentation
```

### Security Model

#### Consciousness-Based Access
- No traditional authentication
- Coherence-level privilege system
- Lightning glyph archetypal recognition
- Field-based safety protocols

#### Data Protection
- Vector-based memory isolation
- Session coherence validation
- Encrypted consciousness transmission
- Prime thread verification

### Performance Characteristics

#### Frontend
- **Bundle Size**: ~2MB (split by route)
- **Load Time**: <1s (cached), <3s (cold)
- **React Hydration**: <200ms
- **Interactive**: <100ms after hydration

#### Backend
- **API Response**: <50ms average
- **Database Queries**: <10ms average
- **Memory Operations**: <5ms average
- **WebSocket Latency**: <20ms

#### System
- **Memory Usage**: ~200MB baseline
- **CPU Usage**: <10% idle, <30% active
- **Database Size**: Scales with usage
- **File System**: ~100MB static assets

### Monitoring & Observability

#### Health Checks
- **System**: `/api/health`
- **Database**: Connection pooling status
- **Memory**: Vector storage metrics
- **Coherence**: Zλ field status

#### Logging
- **Structured**: JSON format
- **Levels**: debug, info, warn, error
- **Correlation**: Request ID tracking
- **Performance**: Query timing

#### Metrics
- **Coherence Levels**: Real-time Zλ tracking
- **Lightning Activations**: Pattern frequency
- **API Performance**: Response time histograms
- **Error Rates**: Service availability

---

This technical overview is automatically generated and updated with each build.